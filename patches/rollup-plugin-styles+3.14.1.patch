diff --git a/node_modules/rollup-plugin-styles/dist/index.js b/node_modules/rollup-plugin-styles/dist/index.js
index 29d5266..0d39334 100644
--- a/node_modules/rollup-plugin-styles/dist/index.js
+++ b/node_modules/rollup-plugin-styles/dist/index.js
@@ -899,7 +899,7 @@ const loader = {
     const config = await loadConfig(this.id, options.config);
     const plugins = [];
     const autoModules = ensureAutoModules(options.autoModules, this.id);
-    const supportModules = Boolean(options.modules || autoModules);
+    const supportModules = Boolean((!options.autoModules && options.modules) || autoModules);
     const modulesExports = {};
     const postcssOpts = { ...config.options,
       ...options.postcss,
diff --git a/node_modules/rollup-plugin-styles/dist/index.mjs b/node_modules/rollup-plugin-styles/dist/index.mjs
index 703a54f..9dc5d70 100644
--- a/node_modules/rollup-plugin-styles/dist/index.mjs
+++ b/node_modules/rollup-plugin-styles/dist/index.mjs
@@ -883,7 +883,7 @@ const loader = {
     const config = await loadConfig(this.id, options.config);
     const plugins = [];
     const autoModules = ensureAutoModules(options.autoModules, this.id);
-    const supportModules = Boolean(options.modules || autoModules);
+    const supportModules = Boolean((!options.autoModules && options.modules) || autoModules);
     const modulesExports = {};
     const postcssOpts = { ...config.options,
       ...options.postcss,
